<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Greek Property Finder ‚Äî Investment Properties Ranked</title>
<meta name="description" content="Budget Greek investment properties ranked by your priorities. Weighted scoring for airport proximity, price, size, beach distance, rental yield.">
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
:root {
  --ocean: #0077b6; --ocean-dark: #023e8a;
  --sunset: #ff6b35; --coral: #e63946;
  --palm: #2d6a4f; --dark: #1a1a2e; --gray: #6b7280;
  --gold: #f59e0b; --bg: #faf8f5; --border: #e8e4df;
  --card: #ffffff; --muted: #7a7a7a; --accent: #c2956a;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', -apple-system, sans-serif; background: var(--bg); color: var(--dark); line-height: 1.6; -webkit-font-smoothing: antialiased; }

/* ‚îÄ‚îÄ Hero ‚îÄ‚îÄ */
.page-hero {
  background: linear-gradient(135deg, #1e3a5f 0%, #0e76a8 50%, #1a9bc7 100%);
  color: white; padding: 44px 24px 32px; text-align: center;
  position: relative; overflow: hidden;
}
.page-hero::before {
  content: ''; position: absolute; inset: 0;
  background: url('https://images.unsplash.com/photo-1555993539-1732b0258235?w=1600') center/cover;
  opacity: 0.12;
}
.page-hero > * { position: relative; z-index: 1; }
.page-hero h1 { font-size: clamp(1.5rem, 4vw, 2.2rem); font-weight: 900; margin-bottom: 6px; letter-spacing: -0.5px; }
.page-hero p { font-size: 0.88rem; opacity: 0.8; margin-bottom: 16px; max-width: 620px; margin-left: auto; margin-right: auto; }
.hero-badges { display: flex; gap: 8px; justify-content: center; flex-wrap: wrap; }
.hero-badge {
  background: rgba(255,255,255,0.15); backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.2); padding: 5px 14px;
  border-radius: 20px; font-size: 0.78rem; font-weight: 500;
}
.page-hero-nav { display: flex; gap: 8px; justify-content: center; flex-wrap: wrap; margin-top: 16px; }
.page-hero-nav a {
  color: rgba(255,255,255,0.75); text-decoration: none; font-size: 0.78rem;
  padding: 6px 16px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.2);
  transition: all 0.2s;
}
.page-hero-nav a:hover { background: rgba(255,255,255,0.12); color: white; }

.container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }

/* ‚îÄ‚îÄ EU Notice ‚îÄ‚îÄ */
.eu-bar {
  background: linear-gradient(90deg, #d1fae5, #e0f2fe);
  border-bottom: 1px solid #a7f3d0; padding: 12px 20px;
  text-align: center; font-size: 0.82rem; color: #065f46;
}
.eu-bar strong { color: #047857; }

/* ‚îÄ‚îÄ Weight Sliders Panel ‚îÄ‚îÄ */
.weights-panel { margin: -20px auto 0; max-width: 1100px; padding: 0 20px; position: relative; z-index: 20; }
.weights-card {
  background: var(--card); border-radius: 16px; padding: 20px 24px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.08); border: 1px solid var(--border);
}
.weights-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 14px; }
.weights-title { font-size: 0.85rem; font-weight: 700; color: var(--dark); }
.weights-reset {
  font-size: 0.72rem; color: var(--ocean); cursor: pointer; border: none;
  background: none; font-family: inherit; font-weight: 600; padding: 4px 8px;
  border-radius: 6px; transition: background 0.2s;
}
.weights-reset:hover { background: #e0f2fe; }
.sliders { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px 24px; }
.slider-group { }
.slider-label { display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px; }
.slider-name { font-size: 0.72rem; font-weight: 700; }
.slider-name.s-price { color: var(--palm); }
.slider-name.s-airport { color: var(--coral); }
.slider-name.s-beach { color: var(--ocean); }
.slider-name.s-size { color: #7c3aed; }
.slider-name.s-yield { color: var(--gold); }
.slider-name.s-reno { color: var(--accent); }
.slider-val { font-size: 0.72rem; font-weight: 800; color: var(--dark); }
input[type="range"] {
  width: 100%; height: 6px; -webkit-appearance: none; appearance: none;
  border-radius: 3px; outline: none; cursor: pointer;
}
input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none; width: 18px; height: 18px; border-radius: 50%;
  border: 2px solid white; box-shadow: 0 2px 6px rgba(0,0,0,0.2); cursor: pointer;
}
#sPrice { background: linear-gradient(90deg, #dcfce7, var(--palm)); }
#sPrice::-webkit-slider-thumb { background: var(--palm); }
#sAirport { background: linear-gradient(90deg, #fee2e2, var(--coral)); }
#sAirport::-webkit-slider-thumb { background: var(--coral); }
#sBeach { background: linear-gradient(90deg, #dbeafe, var(--ocean)); }
#sBeach::-webkit-slider-thumb { background: var(--ocean); }
#sSize { background: linear-gradient(90deg, #ede9fe, #7c3aed); }
#sSize::-webkit-slider-thumb { background: #7c3aed; }
#sYield { background: linear-gradient(90deg, #fef3c7, var(--gold)); }
#sYield::-webkit-slider-thumb { background: var(--gold); }
#sReno { background: linear-gradient(90deg, #fde8d8, var(--accent)); }
#sReno::-webkit-slider-thumb { background: var(--accent); }

/* ‚îÄ‚îÄ #1 Pick Hero Card ‚îÄ‚îÄ */
.pick-hero { margin: 20px auto 0; max-width: 1100px; padding: 0 20px; }
.pick-hero-card {
  display: grid; grid-template-columns: 1fr 1fr; border-radius: 20px; overflow: hidden;
  background: var(--card); box-shadow: 0 16px 60px rgba(0,0,0,0.12);
  border: 1px solid var(--border); cursor: pointer; transition: all 0.3s;
}
.pick-hero-card:hover { box-shadow: 0 20px 70px rgba(0,0,0,0.18); transform: translateY(-2px); }
.pick-hero-img { width: 100%; height: 340px; object-fit: cover; display: block; }
.pick-hero-body { padding: 32px 36px; display: flex; flex-direction: column; justify-content: center; }
.pick-hero-badge {
  display: inline-flex; align-items: center; gap: 6px;
  background: linear-gradient(135deg, #e87d3e, #d4363b);
  color: white; font-size: 0.72rem; font-weight: 800; padding: 5px 14px;
  border-radius: 20px; width: fit-content; margin-bottom: 14px; letter-spacing: 0.3px;
}
.pick-hero-name { font-size: 1.4rem; font-weight: 800; margin-bottom: 4px; line-height: 1.3; }
.pick-hero-area { font-size: 0.82rem; color: var(--muted); margin-bottom: 18px; }
.pick-hero-stats { display: flex; gap: 20px; margin-bottom: 18px; flex-wrap: wrap; }
.pick-hero-stat { text-align: center; }
.pick-hero-stat .val { font-size: 1.2rem; font-weight: 800; }
.pick-hero-stat .val.price-c { color: var(--palm); }
.pick-hero-stat .val.airport-c { color: var(--coral); }
.pick-hero-stat .val.beach-c { color: var(--ocean); }
.pick-hero-stat .val.yield-c { color: var(--gold); }
.pick-hero-stat .lbl { font-size: 0.6rem; color: var(--muted); text-transform: uppercase; letter-spacing: 0.5px; }
.pick-hero-score {
  display: flex; align-items: center; gap: 10px;
  background: linear-gradient(135deg, #fff8f0, #fff5eb);
  border: 1px solid #fed7aa; border-radius: 12px; padding: 12px 16px;
}
.score-ring { width: 48px; height: 48px; position: relative; }
.score-ring svg { width: 48px; height: 48px; transform: rotate(-90deg); }
.score-ring .bg { fill: none; stroke: #f5e6d3; stroke-width: 4; }
.score-ring .fg { fill: none; stroke-width: 4; stroke-linecap: round; transition: stroke-dashoffset 0.6s ease; }
.score-ring .num {
  position: absolute; inset: 0; display: flex; align-items: center; justify-content: center;
  font-size: 0.82rem; font-weight: 900; color: var(--ocean-dark);
}
.score-info { flex: 1; }
.score-info .title { font-size: 0.68rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; color: #92400e; }
.score-info .desc { font-size: 0.72rem; color: var(--muted); line-height: 1.4; }

/* ‚îÄ‚îÄ Sections ‚îÄ‚îÄ */
.section { padding: 40px 0 16px; }
.section-header { margin-bottom: 18px; padding: 0 20px; max-width: 1100px; margin-left: auto; margin-right: auto; }
.section-emoji { font-size: 1.5rem; margin-bottom: 4px; display: block; }
.section-title { font-size: 1.2rem; font-weight: 800; letter-spacing: -0.3px; }
.section-sub { font-size: 0.82rem; color: var(--muted); margin-top: 2px; }
.section-divider { width: 40px; height: 3px; border-radius: 2px; background: linear-gradient(90deg, var(--accent), var(--sunset)); margin-top: 10px; }

/* ‚îÄ‚îÄ Horizontal scroll row ‚îÄ‚îÄ */
.scroll-row {
  display: flex; gap: 16px; overflow-x: auto; padding: 0 20px 16px;
  max-width: 1100px; margin: 0 auto;
  scroll-snap-type: x mandatory; -ms-overflow-style: none; scrollbar-width: none;
}
.scroll-row::-webkit-scrollbar { display: none; }

/* ‚îÄ‚îÄ Card ‚îÄ‚îÄ */
.card {
  flex: 0 0 280px; scroll-snap-align: start;
  background: var(--card); border-radius: 16px; overflow: hidden;
  border: 1px solid var(--border); transition: all 0.25s; cursor: pointer;
}
.card:hover { box-shadow: 0 10px 35px rgba(0,0,0,0.1); transform: translateY(-3px); }
.card-img-wrap { position: relative; overflow: hidden; }
.card-img { width: 100%; height: 175px; object-fit: cover; display: block; transition: transform 0.4s; }
.card:hover .card-img { transform: scale(1.04); }
.card-overlay { position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.35) 0%, transparent 50%); }
.card-rank {
  position: absolute; top: 10px; left: 10px;
  min-width: 26px; height: 26px; border-radius: 8px;
  display: flex; align-items: center; justify-content: center; padding: 0 8px;
  font-size: 0.68rem; font-weight: 800; color: white;
  backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
}
.card-rank.high { background: rgba(212,54,59,0.85); }
.card-rank.mid { background: rgba(230,167,86,0.85); }
.card-rank.low { background: rgba(160,174,192,0.85); }
.card-price-tag {
  position: absolute; bottom: 10px; left: 10px;
  background: rgba(0,0,0,0.55); color: white; font-size: 0.82rem;
  padding: 4px 10px; border-radius: 8px; font-weight: 700;
  backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
}
.card-airport-tag {
  position: absolute; bottom: 10px; right: 10px;
  background: rgba(230,57,70,0.75); color: white; font-size: 0.68rem;
  padding: 3px 8px; border-radius: 6px; font-weight: 600;
  backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
}
.card-body { padding: 14px 16px 16px; }
.card-name { font-size: 0.88rem; font-weight: 700; margin-bottom: 3px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.card-area { font-size: 0.72rem; color: var(--muted); margin-bottom: 10px; }
.card-row { display: flex; align-items: center; gap: 8px; margin-bottom: 4px; font-size: 0.72rem; color: var(--muted); }
.card-row .hl { font-weight: 700; color: var(--dark); }
.card-score-bar { display: flex; align-items: center; gap: 6px; margin-top: 8px; }
.bar-track { flex: 1; height: 5px; border-radius: 3px; background: #f0ece7; overflow: hidden; }
.bar-fill { height: 100%; border-radius: 3px; transition: width 0.4s ease; }
.bar-fill.high { background: linear-gradient(90deg, #e87d3e, #d4363b); }
.bar-fill.mid { background: linear-gradient(90deg, #f0c27f, #e6a756); }
.bar-fill.low { background: #b8c9d6; }
.bar-num { font-size: 0.7rem; font-weight: 800; color: var(--ocean-dark); min-width: 20px; transition: all 0.3s; }

/* ‚îÄ‚îÄ Explainer ‚îÄ‚îÄ */
.explainer { max-width: 1100px; margin: 32px auto 0; padding: 0 20px; }
.explainer-card {
  background: var(--card); border: 1px solid var(--border); border-radius: 16px;
  padding: 24px 28px; display: flex; gap: 24px; align-items: flex-start; flex-wrap: wrap;
}
.explainer-card h3 { font-size: 0.88rem; font-weight: 800; margin-bottom: 6px; }
.explainer-card p { font-size: 0.78rem; color: var(--muted); line-height: 1.6; }
.explainer-item { flex: 1; min-width: 200px; }
.explainer-formula {
  background: var(--bg); border-radius: 10px; padding: 12px 16px;
  font-size: 0.78rem; color: var(--dark); font-weight: 500; margin-top: 6px;
  border: 1px solid var(--border); font-family: 'Inter', monospace;
}
.explainer-formula span { font-weight: 800; }

/* ‚îÄ‚îÄ Market cards ‚îÄ‚îÄ */
.market-row { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 12px; max-width: 1100px; margin: 20px auto; padding: 0 20px; }
.m-card { background: var(--card); border-radius: 12px; padding: 14px 16px; border: 1px solid var(--border); box-shadow: 0 2px 8px rgba(0,0,0,0.04); }
.m-label { font-size: 0.65rem; color: var(--muted); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px; }
.m-value { font-size: 0.92rem; font-weight: 700; color: var(--dark); }

/* ‚îÄ‚îÄ Browse All Grid ‚îÄ‚îÄ */
.browse-section { max-width: 1100px; margin: 40px auto 0; padding: 0 20px; }
.browse-header { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 12px; margin-bottom: 20px; }
.browse-title { font-size: 1.3rem; font-weight: 800; letter-spacing: -0.3px; }
.browse-sub { font-size: 0.82rem; color: var(--muted); margin-top: 2px; }
.browse-count { font-weight: 700; color: var(--ocean); }
.filters { display: flex; gap: 8px; flex-wrap: wrap; align-items: center; }
.filter-select, .filter-input {
  font-family: 'Inter', sans-serif; font-size: 0.78rem; font-weight: 500;
  padding: 7px 12px; border: 1px solid var(--border); border-radius: 10px;
  background: var(--card); color: var(--dark); cursor: pointer; transition: border-color 0.2s;
}
.filter-select:focus, .filter-input:focus { outline: none; border-color: var(--ocean); }
.filter-input { width: 90px; }
.filter-label { font-size: 0.72rem; color: var(--muted); font-weight: 600; }
.filter-clear {
  font-size: 0.72rem; color: var(--ocean); cursor: pointer; border: none;
  background: none; font-family: inherit; font-weight: 600; padding: 4px 8px;
  border-radius: 6px; transition: background 0.2s;
}
.filter-clear:hover { background: #e0f2fe; }
.browse-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px; }
.browse-grid .card { flex: none; }

/* ‚îÄ‚îÄ Airbnb comparison ‚îÄ‚îÄ */
.airbnb-section { max-width: 1100px; margin: 40px auto 0; padding: 0 20px; }
.airbnb-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 16px; margin-top: 16px; }
.airbnb-card {
  background: var(--card); border-radius: 16px; overflow: hidden;
  border: 1px solid var(--border); transition: all 0.25s; cursor: pointer;
}
.airbnb-card:hover { box-shadow: 0 10px 35px rgba(0,0,0,0.1); transform: translateY(-2px); }
.airbnb-card-body { padding: 16px; }
.airbnb-card-name { font-size: 0.92rem; font-weight: 700; margin-bottom: 4px; }
.airbnb-card-region { font-size: 0.72rem; color: var(--muted); margin-bottom: 10px; }
.airbnb-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 6px; margin-bottom: 10px; }
.airbnb-stat { background: var(--bg); border-radius: 8px; padding: 8px; text-align: center; }
.airbnb-stat .v { font-size: 0.95rem; font-weight: 800; }
.airbnb-stat .v.green { color: var(--palm); }
.airbnb-stat .v.gold { color: var(--gold); }
.airbnb-stat .v.blue { color: var(--ocean); }
.airbnb-stat .l { font-size: 0.6rem; color: var(--muted); text-transform: uppercase; letter-spacing: 0.3px; margin-top: 2px; }
.airbnb-bar { display: flex; align-items: center; gap: 8px; }
.airbnb-bar-label { font-size: 0.68rem; font-weight: 600; color: var(--muted); min-width: 80px; }
.airbnb-bar-track { flex: 1; height: 8px; border-radius: 4px; background: #f0ece7; overflow: hidden; }
.airbnb-bar-fill { height: 100%; border-radius: 4px; transition: width 0.4s; }
.airbnb-bar-fill.roi { background: linear-gradient(90deg, #dcfce7, var(--palm)); }
.airbnb-bar-fill.occ { background: linear-gradient(90deg, #dbeafe, var(--ocean)); }
.airbnb-bar-num { font-size: 0.72rem; font-weight: 800; min-width: 36px; }

/* ‚îÄ‚îÄ Detail Modal ‚îÄ‚îÄ */
.modal-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,0.55); z-index: 900;
  display: none; align-items: center; justify-content: center;
  backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px);
}
.modal-overlay.visible { display: flex; }
.modal {
  background: var(--card); border-radius: 20px; width: 92%; max-width: 500px;
  max-height: 90vh; overflow-y: auto; position: relative;
  box-shadow: 0 24px 70px rgba(0,0,0,0.3); animation: modalIn 0.25s ease;
}
@keyframes modalIn { from { opacity: 0; transform: scale(0.95) translateY(10px); } to { opacity: 1; transform: scale(1) translateY(0); } }
.m-close {
  position: absolute; top: 14px; right: 14px; z-index: 10;
  background: rgba(0,0,0,0.45); border: none; color: white;
  width: 34px; height: 34px; border-radius: 50%; font-size: 20px;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); transition: background 0.2s;
}
.m-close:hover { background: rgba(0,0,0,0.7); }
.m-img { width: 100%; height: 200px; object-fit: cover; display: block; }
.m-body { padding: 16px 22px 20px; }
.m-name { font-size: 1.05rem; font-weight: 800; margin-bottom: 2px; line-height: 1.25; }
.m-area { font-size: 0.78rem; color: var(--muted); margin-bottom: 10px; }
.m-score-wrap {
  background: linear-gradient(135deg, #fff8f0, #fff5eb);
  border: 1px solid #fed7aa; border-radius: 12px; padding: 10px 14px; margin-bottom: 10px;
}
.m-score-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.m-score-label { font-size: 0.68rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; color: #92400e; }
.m-score-num { font-size: 1.3rem; font-weight: 900; color: var(--ocean-dark); }
.m-score-bar { height: 8px; border-radius: 4px; background: #f5e6d3; overflow: hidden; }
.m-score-fill { height: 100%; border-radius: 4px; background: linear-gradient(90deg, #f0c27f, #e87d3e, #d4363b); transition: width 0.4s; }
.m-breakdown {
  display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; margin-top: 10px;
  font-size: 0.62rem; color: var(--muted); text-align: center;
}
.m-breakdown .v { font-weight: 700; color: var(--dark); font-size: 0.78rem; }
.m-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; margin-bottom: 12px; }
.m-stat { background: var(--bg); border-radius: 10px; padding: 10px 8px; text-align: center; }
.m-stat .v { font-size: 0.95rem; font-weight: 800; color: var(--ocean-dark); }
.m-stat .v.price-c { color: var(--palm); }
.m-stat .l { font-size: 0.58rem; color: var(--muted); text-transform: uppercase; letter-spacing: 0.5px; margin-top: 2px; }
.m-badges { display: flex; gap: 5px; flex-wrap: wrap; margin-bottom: 10px; }
.m-badge { font-size: 0.7rem; font-weight: 600; padding: 4px 10px; border-radius: 7px; }
.m-badge.fire { background: #ffedd5; color: #9a3412; }
.m-badge.gold { background: #fef3c7; color: #92400e; }
.m-badge.green { background: #dcfce7; color: var(--palm); }
.m-badge.blue { background: #dbeafe; color: var(--ocean-dark); }
.m-badge.red { background: #fee2e2; color: #991b1b; }
.m-airbnb {
  background: var(--bg); border-radius: 10px; padding: 12px; margin-bottom: 12px;
  border: 1px solid var(--border);
}
.m-airbnb-title { font-size: 0.72rem; font-weight: 700; margin-bottom: 8px; color: var(--dark); }
.m-airbnb-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 6px; }
.m-book {
  display: block; width: 100%; padding: 12px; text-align: center;
  background: linear-gradient(135deg, var(--ocean), var(--ocean-dark));
  color: white; text-decoration: none; border-radius: 12px; font-size: 0.88rem;
  font-weight: 700; font-family: inherit; transition: all 0.2s;
}
.m-book:hover { filter: brightness(1.1); transform: translateY(-1px); }

/* ‚îÄ‚îÄ Info sections ‚îÄ‚îÄ */
.info-section { max-width: 1100px; margin: 30px auto; padding: 0 20px; }
.info-card {
  background: var(--card); border-radius: 16px; padding: 24px;
  border: 1px solid var(--border); box-shadow: 0 4px 14px rgba(0,0,0,0.05);
}
.info-card h3 { font-size: 1rem; font-weight: 800; margin-bottom: 10px; }
.info-card p { font-size: 0.82rem; color: var(--muted); line-height: 1.7; }
.info-card strong { color: var(--dark); }

/* ‚îÄ‚îÄ Search links ‚îÄ‚îÄ */
.search-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 12px; margin-top: 16px; }
.search-card {
  background: var(--card); border-radius: 12px; padding: 16px;
  border: 1px solid var(--border); box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}
.search-card h4 { font-size: 0.85rem; font-weight: 700; margin-bottom: 8px; }
.search-card a { display: block; padding: 4px 0; color: var(--ocean); text-decoration: none; font-size: 0.78rem; }
.search-card a:hover { text-decoration: underline; }

.footer {
  text-align: center; padding: 32px 20px 40px; color: var(--muted); font-size: 0.72rem;
  margin-top: 40px;
}
.footer a { color: var(--ocean); text-decoration: none; }

@media (max-width: 700px) {
  .pick-hero-card { grid-template-columns: 1fr; }
  .pick-hero-img { height: 220px; }
  .pick-hero-body { padding: 20px; }
  .card { flex: 0 0 260px; }
  .sliders { grid-template-columns: 1fr 1fr; gap: 12px; }
  .explainer-card { flex-direction: column; gap: 16px; }
  .m-grid { grid-template-columns: repeat(2, 1fr); }
  .airbnb-row { grid-template-columns: 1fr 1fr; }
}
@media (max-width: 480px) {
  .sliders { grid-template-columns: 1fr; }
}
</style>
</head>
<body>

<div class="page-hero">
  <h1>üèñÔ∏è Greek Property Finder</h1>
  <p>Budget investment properties under 100,000 CAD ranked by your priorities ‚Äî adjust the
  sliders to weight airport proximity, price, beach distance, size &amp; rental yield.</p>
  <div class="hero-badges">
    <span class="hero-badge">üá¨üá∑ 18 Properties</span>
    <span class="hero-badge">‚úàÔ∏è Airport Distance</span>
    <span class="hero-badge">üèñÔ∏è Beach Proximity</span>
    <span class="hero-badge">üìà Airbnb Yields</span>
    <span class="hero-badge">üá™üá∫ EU Access</span>
  </div>
  <div class="page-hero-nav">
    <a href="#weights">‚öôÔ∏è Adjust Weights</a>
    <a href="#browse">üîç Browse All</a>
    <a href="#airbnb">üè† Airbnb Income</a>
    <a href="#search">üîó Search Live</a>
  </div>
</div>

<!-- EU NOTICE -->
<div class="eu-bar">
  <strong>üá™üá∫ Estonian passport = EU citizen.</strong>
  Buy property in Greece with <strong>zero restrictions</strong>. No Golden Visa needed. Live, work &amp; rent freely.
</div>

<!-- WEIGHT SLIDERS -->
<div class="weights-panel" id="weights">
  <div class="weights-card">
    <div class="weights-header">
      <span class="weights-title">‚öôÔ∏è Adjust What Matters to You</span>
      <button class="weights-reset" onclick="resetWeights()">Reset</button>
    </div>
    <div class="sliders">
      <div class="slider-group">
        <div class="slider-label">
          <span class="slider-name s-price">üí∞ Lower Price</span>
          <span class="slider-val" id="vPrice">25%</span>
        </div>
        <input type="range" id="sPrice" min="0" max="100" value="25">
      </div>
      <div class="slider-group">
        <div class="slider-label">
          <span class="slider-name s-airport">‚úàÔ∏è Airport Closeness</span>
          <span class="slider-val" id="vAirport">20%</span>
        </div>
        <input type="range" id="sAirport" min="0" max="100" value="20">
      </div>
      <div class="slider-group">
        <div class="slider-label">
          <span class="slider-name s-beach">üèñÔ∏è Beach Closeness</span>
          <span class="slider-val" id="vBeach">20%</span>
        </div>
        <input type="range" id="sBeach" min="0" max="100" value="20">
      </div>
      <div class="slider-group">
        <div class="slider-label">
          <span class="slider-name s-size">üìê Larger Size</span>
          <span class="slider-val" id="vSize">15%</span>
        </div>
        <input type="range" id="sSize" min="0" max="100" value="15">
      </div>
      <div class="slider-group">
        <div class="slider-label">
          <span class="slider-name s-yield">üìà Higher Yield</span>
          <span class="slider-val" id="vYield">15%</span>
        </div>
        <input type="range" id="sYield" min="0" max="100" value="15">
      </div>
      <div class="slider-group">
        <div class="slider-label">
          <span class="slider-name s-reno">üîß Move-In Ready</span>
          <span class="slider-val" id="vReno">5%</span>
        </div>
        <input type="range" id="sReno" min="0" max="100" value="5">
      </div>
    </div>
  </div>
</div>

<!-- #1 PICK -->
<div class="pick-hero">
  <div class="pick-hero-card" id="heroCard">
    <img class="pick-hero-img" src="" alt="" id="heroImg">
    <div class="pick-hero-body">
      <div class="pick-hero-badge">üëë #1 BEST MATCH</div>
      <div class="pick-hero-name" id="heroName"></div>
      <div class="pick-hero-area" id="heroArea"></div>
      <div class="pick-hero-stats">
        <div class="pick-hero-stat"><div class="val price-c" id="heroPrice"></div><div class="lbl">Price</div></div>
        <div class="pick-hero-stat"><div class="val airport-c" id="heroAirport"></div><div class="lbl">To Airport</div></div>
        <div class="pick-hero-stat"><div class="val beach-c" id="heroBeach"></div><div class="lbl">To Beach</div></div>
        <div class="pick-hero-stat"><div class="val yield-c" id="heroYield"></div><div class="lbl">Gross Yield</div></div>
      </div>
      <div class="pick-hero-score">
        <div class="score-ring">
          <svg viewBox="0 0 48 48">
            <circle class="bg" cx="24" cy="24" r="20"/>
            <circle class="fg" id="heroRing" cx="24" cy="24" r="20"
              stroke-dasharray="125.6" stroke-dashoffset="125.6"/>
          </svg>
          <div class="num" id="heroScoreNum"></div>
        </div>
        <div class="score-info">
          <div class="title">Investment Score</div>
          <div class="desc" id="heroScoreDesc">Best match based on your weights</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- CURATED SECTIONS -->
<div id="sections"></div>

<!-- EXPLAINER -->
<div class="explainer">
  <div class="explainer-card">
    <div class="explainer-item">
      <h3>üß™ How scoring works</h3>
      <p>Each property gets a score (0-100) from six normalized dimensions. Adjust sliders above to change weights:</p>
      <div class="explainer-formula" id="formulaDisplay">
        Score = <span>25%</span> Price + <span>20%</span> Airport + <span>20%</span> Beach + <span>15%</span> Size + <span>15%</span> Yield + <span>5%</span> Ready
      </div>
    </div>
    <div class="explainer-item">
      <h3>üìä What we analyzed</h3>
      <p>18 curated properties from Rightmove Overseas, all under ‚Ç¨75,000 (CA$100k).
      Airport distances verified via Google Maps. Airbnb rental estimates based on regional comps.
      Data collected 2026-02-22.</p>
    </div>
  </div>
</div>

<!-- MARKET SNAPSHOT -->
<div style="max-width:1100px;margin:24px auto 0;padding:0 20px;">
  <h3 style="font-size:1rem;font-weight:800;margin-bottom:4px;">üìä Greek Market Snapshot</h3>
  <p style="font-size:0.78rem;color:var(--muted);margin-bottom:12px;">Prices up ~42% in 3 years but moderating. Strong rental demand from tourists &amp; digital nomads.</p>
</div>
<div class="market-row"><div class="m-card"><div class="m-label">Budget</div><div class="m-value">100,000 CAD / ~‚Ç¨65,000</div></div>
<div class="m-card"><div class="m-label">Appreciation</div><div class="m-value">7-9% (2024-2025)</div></div>
<div class="m-card"><div class="m-label">Transfer Tax</div><div class="m-value">3.09% of property value</div></div>
<div class="m-card"><div class="m-label">Total Buy Costs</div><div class="m-value">~8-10% on top of purchase price</div></div>
<div class="m-card"><div class="m-label">Rental Tax</div><div class="m-value">15% (first ‚Ç¨12k)</div></div>
<div class="m-card"><div class="m-label">ENFIA Tax</div><div class="m-value">‚Ç¨2-13/m¬≤/yr</div></div>
</div>

<!-- EU/CANADIAN ADVANTAGE -->
<div class="info-section">
  <div class="info-card">
    <h3>üçÅ Your Advantage: Canadian + Estonian (EU) Citizenship</h3>
    <p>
      <strong>Estonian passport:</strong> Full EU rights ‚Äî buy property anywhere in Greece, no restrictions.
      No Golden Visa needed (that requires ‚Ç¨250k+ minimum). Rent out on Airbnb or long-term freely.<br><br>
      <strong>Canadian passport:</strong> Banking flexibility + Canada-Greece tax treaty avoids double taxation.<br><br>
      <strong>Key costs:</strong> Transfer tax ~3.09%, notary ~0.65-1%, lawyer ~1-2%. Total ~8-10% on top.
      Rental income: 15% on first ‚Ç¨12k/yr. ENFIA property tax: ‚Ç¨2-13/m¬≤/yr.
    </p>
  </div>
</div>

<!-- BROWSE ALL -->
<div class="browse-section" id="browse">
  <div class="browse-header">
    <div>
      <div class="browse-title">üîç Browse All Properties</div>
      <div class="browse-sub">Showing <span class="browse-count" id="browseCount">0</span> properties, ranked by your weights</div>
    </div>
    <div class="filters">
      <select class="filter-select" id="fRegion"><option value="">All Regions</option></select>
      <span class="filter-label">‚Ç¨ max</span>
      <input class="filter-input" id="fPriceMax" type="number" placeholder="Max ‚Ç¨" step="1000">
      <span class="filter-label">‚úàÔ∏è max min</span>
      <input class="filter-input" id="fAirportMax" type="number" placeholder="Max" step="10">
      <button class="filter-clear" onclick="clearFilters()">Clear</button>
    </div>
  </div>
  <div class="browse-grid" id="browseGrid"></div>
</div>

<!-- AIRBNB RENTAL INCOME COMPARISON -->
<div class="airbnb-section" id="airbnb">
  <h2 style="font-size:1.3rem;font-weight:800;letter-spacing:-0.3px;">üè† Airbnb Rental Income Comparison</h2>
  <p style="font-size:0.82rem;color:var(--muted);margin-top:4px;">
    Estimated rental income if you Airbnb each property. Based on regional nightly rates &amp; occupancy data.
    Ranked by gross yield (annual income / purchase price).
  </p>
  <div class="airbnb-grid" id="airbnbGrid"></div>
</div>

<!-- SEARCH LIVE LINKS -->
<div class="info-section" id="search">
  <h2 style="font-size:1.3rem;font-weight:800;margin-bottom:4px;">üîó Search Live Listings</h2>
  <p style="font-size:0.82rem;color:var(--muted);margin-bottom:12px;">Direct links to portals ‚Äî prices change daily.</p>
  <div class="search-grid">
    <div class="search-card">
      <h4>üá¨üáß Rightmove Overseas</h4>
      <a href="https://www.rightmove.co.uk/overseas-property-for-sale/Greece.html?maxPrice=55000&amp;sortByPriceDescending=false" target="_blank">All Greece under ¬£55k</a>
      <a href="https://www.rightmove.co.uk/overseas-property-for-sale/Greece/Corfu.html?maxPrice=55000" target="_blank">Corfu</a>
      <a href="https://www.rightmove.co.uk/overseas-property-for-sale/Greece/Crete.html?maxPrice=55000" target="_blank">Crete</a>
      <a href="https://www.rightmove.co.uk/overseas-property-for-sale/Greece/Cephalonia.html?maxPrice=55000" target="_blank">Cephalonia</a>
    </div>
    <div class="search-card">
      <h4>üè† Spitogatos.gr</h4>
      <a href="https://en.spitogatos.gr/search/results/residential/buy" target="_blank">All Greece</a>
      <a href="https://en.spitogatos.gr/search/results/residential/buy?geo_place_ids[]=ChIJ8UNwBh-9oRQR3Y1mdkU1Nic" target="_blank">Northern Greece</a>
      <a href="https://en.spitogatos.gr/search/results/residential/buy?geo_place_ids[]=ChIJZ07eRWGEhBQRIL8BPxhkSaQ" target="_blank">Chania, Crete</a>
    </div>
    <div class="search-card">
      <h4>‚úàÔ∏è Flights</h4>
      <a href="https://www.google.com/flights?q=flights+to+corfu" target="_blank">‚Üí Corfu (CFU)</a>
      <a href="https://www.google.com/flights?q=flights+to+chania" target="_blank">‚Üí Chania (CHQ)</a>
      <a href="https://www.google.com/flights?q=flights+to+thessaloniki" target="_blank">‚Üí Thessaloniki (SKG)</a>
      <a href="https://www.google.com/flights?q=flights+to+athens" target="_blank">‚Üí Athens (ATH)</a>
    </div>
    <div class="search-card">
      <h4>üìä Research</h4>
      <a href="https://www.globalpropertyguide.com/europe/greece/price-history" target="_blank">Global Property Guide</a>
      <a href="https://tranio.com/greece/buying/" target="_blank">Buying Guide for Foreigners</a>
      <a href="https://tranio.com/greece/taxes/" target="_blank">Tax Guide</a>
    </div>
  </div>
</div>

<!-- MODAL -->
<div class="modal-overlay" id="modalOverlay" onclick="if(event.target===this)closeModal()">
  <div class="modal">
    <button class="m-close" onclick="closeModal()">&times;</button>
    <img class="m-img" id="mImg" src="" alt="">
    <div class="m-body">
      <div class="m-name" id="mName"></div>
      <div class="m-area" id="mArea"></div>
      <div class="m-score-wrap">
        <div class="m-score-top">
          <span class="m-score-label">Investment Score</span>
          <span class="m-score-num" id="mScore"></span>
        </div>
        <div class="m-score-bar"><div class="m-score-fill" id="mScoreFill"></div></div>
        <div class="m-breakdown" id="mBreakdown"></div>
      </div>
      <div class="m-grid" id="mStats"></div>
      <div class="m-airbnb" id="mAirbnb">
        <div class="m-airbnb-title">üè† Airbnb Rental Estimate</div>
        <div class="m-airbnb-grid" id="mAirbnbGrid"></div>
      </div>
      <div class="m-badges" id="mBadges"></div>
      <a class="m-book" id="mLink" href="#" target="_blank">View on Rightmove ‚Üí</a>
    </div>
  </div>
</div>

<div class="footer">
  18 curated properties from Rightmove Overseas ¬∑ Data scraped 2026-02-22 ¬∑ Prices in EUR (CA$1 ‚âà ‚Ç¨0.68)<br>
  Built for a üçÅ Canadian / üá™üá™ Estonian exploring Greek investment ¬∑ ‚ö†Ô∏è Verify all listings before purchasing
</div>

<script>
const DATA = [
  {id:0,title:"1-Bed Stone House - Corfu Island",price:58000,cad:85840,area:55,psqm:1054,beds:"1",bedsN:1,roi:"4-6% (Airbnb)",ptype:"House",region:"ionian_islands",regionName:"Corfu & Cephalonia, Ionian Islands",airport:25,beach:10,reno:1,airbnbRate:65,airbnbOcc:55,annualIncome:13048,grossYield:22.5,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/f501791a2/169757939/f501791a2928226c700059ba540bd212_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/169757939#/?channel=OVERSEAS",source:"Rightmove",features:["Stone house", "Renovation potential", "Corfu island"]},
  {id:1,title:"2-Bed Property - Episkepsi, Corfu",price:60000,cad:88800,area:65,psqm:923,beds:"2",bedsN:2,roi:"4-5%",ptype:"Property",region:"ionian_islands",regionName:"Corfu & Cephalonia, Ionian Islands",airport:30,beach:15,reno:1,airbnbRate:70,airbnbOcc:50,annualIncome:12775,grossYield:21.3,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/52bf02e40/147192746/52bf02e402b24e10d1554e133d5e1f20_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/147192746#/?channel=OVERSEAS",source:"Rightmove",features:["2 bedrooms", "North Corfu village", "Character property"]},
  {id:2,title:"2-Bed House - Karoussades, Corfu",price:69000,cad:102120,area:70,psqm:985,beds:"2",bedsN:2,roi:"4-5%",ptype:"House",region:"ionian_islands",regionName:"Corfu & Cephalonia, Ionian Islands",airport:20,beach:8,reno:0,airbnbRate:75,airbnbOcc:55,annualIncome:15056,grossYield:21.8,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/1b5a9b9fe/157731170/1b5a9b9fe22825c0dbe215304a13d6d3_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/157731170#/?channel=OVERSEAS",source:"Rightmove",features:["2 bedrooms", "Near north coast beaches", "Village charm"]},
  {id:3,title:"3-Bed Property - Karoussades, Corfu",price:70000,cad:103600,area:85,psqm:823,beds:"3",bedsN:3,roi:"4-5%",ptype:"Property",region:"ionian_islands",regionName:"Corfu & Cephalonia, Ionian Islands",airport:20,beach:8,reno:1,airbnbRate:80,airbnbOcc:52,annualIncome:15184,grossYield:21.7,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/00fb7730c/147192809/00fb7730c403292ec505cb1ff08ed713_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/147192809#/?channel=OVERSEAS",source:"Rightmove",features:["3 bedrooms", "North Corfu", "Near beaches"]},
  {id:4,title:"Property - Lakones, Corfu (Paleokastritsa area)",price:69000,cad:102120,area:60,psqm:1150,beds:"N/A",bedsN:0,roi:"4-6% (Airbnb)",ptype:"Property",region:"ionian_islands",regionName:"Corfu & Cephalonia, Ionian Islands",airport:35,beach:5,reno:1,airbnbRate:85,airbnbOcc:60,annualIncome:18615,grossYield:27.0,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/9ee07dcfe/147192770/9ee07dcfe83bebe53a96d432940f7c3a_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/147192770#/?channel=OVERSEAS",source:"Rightmove",features:["Near Paleokastritsa", "Corfu west coast", "Scenic location"]},
  {id:5,title:"2-Bed House - Agia Irini, Cephalonia",price:58000,cad:85840,area:70,psqm:828,beds:"2",bedsN:2,roi:"4-5%",ptype:"House",region:"ionian_islands",regionName:"Corfu & Cephalonia, Ionian Islands",airport:25,beach:12,reno:0,airbnbRate:70,airbnbOcc:48,annualIncome:12264,grossYield:21.1,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/ccbf671f7/164335409/ccbf671f791c9dd8962d06901e2cd4c7_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/164335409#/?channel=OVERSEAS",source:"Rightmove",features:["2 bedrooms", "Cephalonia island", "Reduced price"]},
  {id:6,title:"1-Bed Detached House - Kaminarata, Cephalonia",price:60000,cad:88800,area:50,psqm:1200,beds:"1",bedsN:1,roi:"4-5%",ptype:"Detached house",region:"ionian_islands",regionName:"Corfu & Cephalonia, Ionian Islands",airport:30,beach:10,reno:0,airbnbRate:65,airbnbOcc:45,annualIncome:10676,grossYield:17.8,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/f02587829/169522346/f025878293b87c713ee22cc648c961cd_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/169522346#/?channel=OVERSEAS",source:"Rightmove",features:["Detached house", "Cephalonia village", "Close to beaches"]},
  {id:7,title:"2-Bed Detached House - Topolia, Chania, Crete",price:60000,cad:88800,area:70,psqm:857,beds:"2",bedsN:2,roi:"3-5%",ptype:"Detached house",region:"crete",regionName:"Chania, Western Crete",airport:35,beach:20,reno:1,airbnbRate:90,airbnbOcc:58,annualIncome:19053,grossYield:31.8,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/a2b84270d/159737804/a2b84270d253ce62ea8aecae2c83f063_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/159737804#/?channel=OVERSEAS",source:"Rightmove",features:["2 bedrooms", "Chania area", "Mountain village", "Character property"]},
  {id:8,title:"Studio Flat - Drama City Centre",price:56000,cad:82880,area:40,psqm:1400,beds:"Studio",bedsN:0,roi:"5-7%",ptype:"Studio flat",region:"northern_greece",regionName:"Drama & Serres, Northern Greece",airport:100,beach:90,reno:0,airbnbRate:35,airbnbOcc:40,annualIncome:5110,grossYield:9.1,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/793fe631c/162955775/793fe631cab7895c47f2ceebada11d35_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/162955775#/?channel=OVERSEAS",source:"Rightmove",features:["City centre", "Studio", "Ready to rent", "Lowest entry price"]},
  {id:9,title:"2-Bed Detached House - Efkarpia, Serres",price:57000,cad:84360,area:85,psqm:670,beds:"2",bedsN:2,roi:"5-6%",ptype:"Detached house",region:"northern_greece",regionName:"Drama & Serres, Northern Greece",airport:80,beach:75,reno:0,airbnbRate:40,airbnbOcc:35,annualIncome:5110,grossYield:9.0,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/88e10b9f3/166495556/88e10b9f3311b29c12fc0c634fbe0f1b_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/166495556#/?channel=OVERSEAS",source:"Rightmove",features:["2 bedrooms", "Detached", "85m\u00b2", "Serres area"]},
  {id:10,title:"5-Bed Detached House - Chryso, Serres",price:57000,cad:84360,area:120,psqm:475,beds:"5",bedsN:5,roi:"5-7%",ptype:"Detached house",region:"northern_greece",regionName:"Drama & Serres, Northern Greece",airport:95,beach:80,reno:1,airbnbRate:55,airbnbOcc:35,annualIncome:7026,grossYield:12.3,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/4c5da3c84/169430747/4c5da3c841ead16360bc9541203fad0b_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/169430747#/?channel=OVERSEAS",source:"Rightmove",features:["5 bedrooms", "120m\u00b2", "Large family home", "Incredible value"]},
  {id:11,title:"Studio Flat - Serres City",price:58000,cad:85840,area:38,psqm:1526,beds:"Studio",bedsN:0,roi:"5-7%",ptype:"Studio flat",region:"northern_greece",regionName:"Drama & Serres, Northern Greece",airport:85,beach:80,reno:0,airbnbRate:35,airbnbOcc:38,annualIncome:4854,grossYield:8.4,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/705ae7346/170088143/705ae7346705e8d66d72ed72f1d04ed9_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/170088143#/?channel=OVERSEAS",source:"Rightmove",features:["City location", "Studio flat", "Rental ready"]},
  {id:12,title:"2-Bed Flat - Drama City",price:70000,cad:103600,area:65,psqm:1076,beds:"2",bedsN:2,roi:"5-6%",ptype:"Flat",region:"northern_greece",regionName:"Drama & Serres, Northern Greece",airport:100,beach:85,reno:0,airbnbRate:40,airbnbOcc:42,annualIncome:6132,grossYield:8.8,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/b8e9e150e/169011563/b8e9e150e454d86cf1bab5110e7d7ae4_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/169011563#/?channel=OVERSEAS",source:"Rightmove",features:["2 bedrooms", "City apartment", "Ready to move in"]},
  {id:13,title:"2-Bed Detached House - Adriani, Drama",price:70000,cad:103600,area:80,psqm:875,beds:"2",bedsN:2,roi:"5-6%",ptype:"Detached house",region:"northern_greece",regionName:"Drama & Serres, Northern Greece",airport:110,beach:90,reno:1,airbnbRate:45,airbnbOcc:35,annualIncome:5748,grossYield:8.2,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/443ad7c8a/159071498/443ad7c8a30b49564efaf26ffc4464c7_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/159071498#/?channel=OVERSEAS",source:"Rightmove",features:["2 bedrooms", "Detached", "80m\u00b2", "Village setting"]},
  {id:14,title:"4-Bed Detached House - Rodolivos, Serres",price:70000,cad:103600,area:130,psqm:538,beds:"4",bedsN:4,roi:"5-6%",ptype:"Detached house",region:"northern_greece",regionName:"Drama & Serres, Northern Greece",airport:90,beach:80,reno:0,airbnbRate:55,airbnbOcc:38,annualIncome:7628,grossYield:10.9,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/3633cb896/169742507/3633cb89629d936b52fb63a8b6e2b50e_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/169742507#/?channel=OVERSEAS",source:"Rightmove",features:["4 bedrooms", "130m\u00b2", "Large family home"]},
  {id:15,title:"2-Bed Property - Alonnisos Island",price:60000,cad:88800,area:55,psqm:1090,beds:"2",bedsN:2,roi:"4-5% (seasonal)",ptype:"Property",region:"pelion_sporades",regionName:"Pelion & Alonnisos, Thessaly",airport:60,beach:5,reno:1,airbnbRate:75,airbnbOcc:45,annualIncome:12318,grossYield:20.5,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/ada9f3d64/169527362/ada9f3d641dc27ff3d07974a56d7e5d3_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/169527362#/?channel=OVERSEAS",source:"Rightmove",features:["Island living", "2 bedrooms", "Marine park island", "Reduced price"]},
  {id:16,title:"Detached House - Portaria, Pelion",price:70000,cad:103600,area:75,psqm:933,beds:"N/A",bedsN:0,roi:"4-5%",ptype:"Detached house",region:"pelion_sporades",regionName:"Pelion & Alonnisos, Thessaly",airport:40,beach:15,reno:1,airbnbRate:70,airbnbOcc:50,annualIncome:12775,grossYield:18.2,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/6331d4b20/172463645/6331d4b209afdc646bc0370a530a2c1f_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/172463645#/?channel=OVERSEAS",source:"Rightmove",features:["Pelion mountain village", "Near beaches", "Character property"]},
  {id:17,title:"2-Bed Flat - Zografos, Athens (University area)",price:73000,cad:108040,area:65,psqm:1123,beds:"2",bedsN:2,roi:"5-6%",ptype:"Flat",region:"attica",regionName:"Athens / Attica",airport:45,beach:25,reno:0,airbnbRate:60,airbnbOcc:65,annualIncome:14235,grossYield:19.5,img:"https://media.rightmove.co.uk/dir/crop/10:9-16:9/property-photo/db7d7fd42/172039565/db7d7fd420cb1ededdddb6734a54cc59_max_476x317.jpeg",url:"https://www.rightmove.co.uk/properties/172039565#/?channel=OVERSEAS",source:"Rightmove",features:["Athens location", "2 bedrooms", "Near university", "Strong rental demand"]}
];
const REGIONS = {"ionian_islands":{name:"Corfu & Cephalonia, Ionian Islands",airportCode:"CFU / EFL",airportMin:20,airportNote:"CFU 10-30 min from most Corfu properties; EFL 15-40 min on Cephalonia",beachMin:5,yieldMid:5.0,avgPsqm:900},"northern_greece":{name:"Drama & Serres, Northern Greece",airportCode:"SKG",airportMin:90,airportNote:"Thessaloniki International (SKG) is a 1-2 hour drive. Major hub with year-round flights",beachMin:75,yieldMid:6.0,avgPsqm:500},"crete":{name:"Chania, Western Crete",airportCode:"CHQ",airportMin:25,airportNote:"Chania International (CHQ) 15-40 min from most properties. Direct flights across Europe",beachMin:10,yieldMid:4.5,avgPsqm:1400},"pelion_sporades":{name:"Pelion & Alonnisos, Thessaly",airportCode:"VOL / SKG",airportMin:45,airportNote:"Volos Nea Anchialos (VOL) 30-60 min seasonal; Thessaloniki (SKG) 2.5 hr year-round",beachMin:10,yieldMid:4.5,avgPsqm:800},"attica":{name:"Athens / Attica",airportCode:"ATH",airportMin:40,airportNote:"Athens International (ATH) 30-60 min by metro/car. Greece's main hub, hundreds of routes",beachMin:20,yieldMid:5.5,avgPsqm:1800}};

// ‚îÄ‚îÄ Compute normalized values (0‚Äì1) ‚îÄ‚îÄ
const prices = DATA.map(d => d.price);
const areas = DATA.map(d => d.area);
const airports = DATA.map(d => d.airport);
const beaches = DATA.map(d => d.beach);
const yields = DATA.map(d => d.grossYield);

const minPrice = Math.min(...prices), maxPrice = Math.max(...prices);
const minArea = Math.min(...areas), maxArea = Math.max(...areas);
const minAirport = Math.min(...airports), maxAirport = Math.max(...airports);
const minBeach = Math.min(...beaches), maxBeach = Math.max(...beaches);
const minYield = Math.min(...yields), maxYield = Math.max(...yields);

DATA.forEach(d => {
  d.nPrice = maxPrice === minPrice ? 0.5 : (maxPrice - d.price) / (maxPrice - minPrice);
  d.nArea = maxArea === minArea ? 0.5 : (d.area - minArea) / (maxArea - minArea);
  d.nAirport = maxAirport === minAirport ? 0.5 : (maxAirport - d.airport) / (maxAirport - minAirport);
  d.nBeach = maxBeach === minBeach ? 0.5 : (maxBeach - d.beach) / (maxBeach - minBeach);
  d.nYield = maxYield === minYield ? 0.5 : (d.grossYield - minYield) / (maxYield - minYield);
  d.nReno = d.reno === 0 ? 1 : 0;
});

// Populate region filter
const fRegionEl = document.getElementById('fRegion');
const regionNames = [...new Set(DATA.map(d => d.region))];
regionNames.forEach(r => {
  const o = document.createElement('option');
  o.value = r;
  o.textContent = REGIONS[r] ? REGIONS[r].name : r;
  fRegionEl.appendChild(o);
});

// ‚îÄ‚îÄ Weight state ‚îÄ‚îÄ
let wPrice = 25, wAirport = 20, wBeach = 20, wSize = 15, wYield = 15, wReno = 5;

function score(d) {
  const total = wPrice + wAirport + wBeach + wSize + wYield + wReno || 1;
  return (d.nPrice * wPrice + d.nAirport * wAirport + d.nBeach * wBeach +
          d.nArea * wSize + d.nYield * wYield + d.nReno * wReno) / total * 100;
}

function scoreTier(s) { return s >= 65 ? 'high' : s >= 40 ? 'mid' : 'low'; }
function scoreColor(s) { return s >= 65 ? '#d4363b' : s >= 40 ? '#e6a756' : '#b8c9d6'; }

function makeCard(d, rank) {
  const s = score(d);
  const t = scoreTier(s);
  return `
    <div class="card" onclick="openModal(${d.id})">
      <div class="card-img-wrap">
        <img class="card-img" src="${d.img}" alt="${d.title}" loading="lazy"
             onerror="this.src='https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=600'">
        <div class="card-overlay"></div>
        <div class="card-rank ${t}">${rank !== null ? '#'+rank : Math.round(s)}</div>
        <div class="card-price-tag">‚Ç¨${d.price.toLocaleString()}</div>
        <div class="card-airport-tag">‚úàÔ∏è ${d.airport} min</div>
      </div>
      <div class="card-body">
        <div class="card-name">${d.title}</div>
        <div class="card-area">üìç ${d.regionName}</div>
        <div class="card-row"><span class="hl">${d.area}m¬≤</span> ¬∑ ${d.beds} bed ¬∑ üèñÔ∏è ${d.beach} min ¬∑ Yield ${d.grossYield}%</div>
        <div class="card-score-bar">
          <div class="bar-track"><div class="bar-fill ${t}" style="width:${s.toFixed(0)}%"></div></div>
          <span class="bar-num">${Math.round(s)}</span>
        </div>
      </div>
    </div>`;
}

function makeAirbnbCard(d) {
  return `
    <div class="airbnb-card" onclick="openModal(${d.id})">
      <div class="airbnb-card-body">
        <div class="airbnb-card-name">${d.title}</div>
        <div class="airbnb-card-region">üìç ${d.regionName} ¬∑ ‚Ç¨${d.price.toLocaleString()} ¬∑ ${d.area}m¬≤</div>
        <div class="airbnb-row">
          <div class="airbnb-stat"><div class="v green">‚Ç¨${d.airbnbRate}</div><div class="l">Per Night</div></div>
          <div class="airbnb-stat"><div class="v gold">‚Ç¨${d.annualIncome.toLocaleString()}</div><div class="l">Annual</div></div>
          <div class="airbnb-stat"><div class="v blue">${d.grossYield}%</div><div class="l">Gross Yield</div></div>
        </div>
        <div style="display:flex;flex-direction:column;gap:4px;">
          <div class="airbnb-bar">
            <div class="airbnb-bar-label">Occupancy</div>
            <div class="airbnb-bar-track"><div class="airbnb-bar-fill occ" style="width:${d.airbnbOcc}%"></div></div>
            <div class="airbnb-bar-num">${d.airbnbOcc}%</div>
          </div>
          <div class="airbnb-bar">
            <div class="airbnb-bar-label">Yield</div>
            <div class="airbnb-bar-track"><div class="airbnb-bar-fill roi" style="width:${Math.min(d.grossYield/15*100,100).toFixed(0)}%"></div></div>
            <div class="airbnb-bar-num">${d.grossYield}%</div>
          </div>
        </div>
      </div>
    </div>`;
}

function rebuild() {
  const ranked = DATA.map(d => ({...d, sc: score(d)})).sort((a,b) => b.sc - a.sc);
  const used = new Set();

  function pick(pool, n) {
    const result = [];
    for (const d of pool) {
      if (used.has(d.id)) continue;
      result.push(d);
      used.add(d.id);
      if (result.length >= n) break;
    }
    return result;
  }

  // Hero = #1
  const hero = ranked[0];
  used.add(hero.id);
  const hs = hero.sc;

  document.getElementById('heroImg').src = hero.img;
  document.getElementById('heroImg').onerror = function(){ this.src='https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=600'; };
  document.getElementById('heroName').textContent = hero.title;
  document.getElementById('heroArea').textContent = 'üìç ' + hero.regionName + ' ¬∑ ' + hero.area + 'm¬≤ ¬∑ ' + hero.beds + ' bed';
  document.getElementById('heroPrice').textContent = '‚Ç¨' + hero.price.toLocaleString();
  document.getElementById('heroAirport').textContent = hero.airport + ' min';
  document.getElementById('heroBeach').textContent = hero.beach + ' min';
  document.getElementById('heroYield').textContent = hero.grossYield + '%';
  document.getElementById('heroScoreNum').textContent = Math.round(hs);
  document.getElementById('heroCard').onclick = () => openModal(hero.id);
  const ring = document.getElementById('heroRing');
  ring.style.stroke = scoreColor(hs);
  ring.style.strokeDashoffset = 125.6 * (1 - hs / 100);

  // ‚îÄ‚îÄ Curated sections ‚îÄ‚îÄ
  const bestValue = pick(ranked, 5);

  const closestAirport = [...ranked].sort((a,b) => a.airport - b.airport);
  const airportPicks = pick(closestAirport, 4);

  const closestBeach = [...ranked].sort((a,b) => a.beach - b.beach);
  const beachPicks = pick(closestBeach, 4);

  const highYieldPool = [...ranked].sort((a,b) => b.grossYield - a.grossYield);
  const yieldPicks = pick(highYieldPool, 4);

  const biggestPool = [...ranked].sort((a,b) => b.area - a.area);
  const bigPicks = pick(biggestPool, 4);

  const sections = [
    { emoji: 'üéØ', title: 'Best Overall Match', sub: 'Highest score based on your current weights', cards: bestValue, ranked: true },
    { emoji: '‚úàÔ∏è', title: 'Closest to Airport', sub: 'Shortest drive to nearest international airport', cards: airportPicks },
    { emoji: 'üèñÔ∏è', title: 'Closest to Beach', sub: 'Walk or quick drive to the sea', cards: beachPicks },
    { emoji: 'üìà', title: 'Highest Rental Yield', sub: 'Best Airbnb income relative to purchase price', cards: yieldPicks },
    { emoji: 'üìê', title: 'Most Space for Money', sub: 'Largest properties in the budget', cards: bigPicks },
  ].filter(s => s.cards.length > 0);

  let globalRank = 2;
  const html = sections.map(sec => `
    <div class="section">
      <div class="section-header">
        <span class="section-emoji">${sec.emoji}</span>
        <div class="section-title">${sec.title}</div>
        <div class="section-sub">${sec.sub}</div>
        <div class="section-divider"></div>
      </div>
      <div class="scroll-row">
        ${sec.cards.map(d => {
          const rank = sec.ranked ? globalRank++ : null;
          return makeCard(d, rank);
        }).join('')}
      </div>
    </div>
  `).join('');
  document.getElementById('sections').innerHTML = html;

  // Update formula display
  const total = wPrice + wAirport + wBeach + wSize + wYield + wReno || 1;
  const pcts = [wPrice, wAirport, wBeach, wSize, wYield, wReno].map(w => Math.round(w / total * 100));
  const diff = 100 - pcts.reduce((a,b)=>a+b,0);
  pcts[0] += diff;
  document.getElementById('formulaDisplay').innerHTML =
    `Score = <span>${pcts[0]}%</span> Price + <span>${pcts[1]}%</span> Airport + <span>${pcts[2]}%</span> Beach + <span>${pcts[3]}%</span> Size + <span>${pcts[4]}%</span> Yield + <span>${pcts[5]}%</span> Ready`;

  rebuildBrowse();
  rebuildAirbnb();
}

// ‚îÄ‚îÄ Browse All Logic ‚îÄ‚îÄ
function getFilters() {
  return {
    region: document.getElementById('fRegion').value,
    priceMax: parseFloat(document.getElementById('fPriceMax').value) || Infinity,
    airportMax: parseFloat(document.getElementById('fAirportMax').value) || Infinity,
  };
}

function rebuildBrowse() {
  const f = getFilters();
  const filtered = DATA
    .map(d => ({...d, sc: score(d)}))
    .filter(d => {
      if (f.region && d.region !== f.region) return false;
      if (d.price > f.priceMax) return false;
      if (d.airport > f.airportMax) return false;
      return true;
    })
    .sort((a, b) => b.sc - a.sc);

  document.getElementById('browseCount').textContent = filtered.length;
  document.getElementById('browseGrid').innerHTML = filtered.map(d => makeCard(d, null)).join('');
}

function rebuildAirbnb() {
  const sorted = [...DATA].sort((a,b) => b.grossYield - a.grossYield);
  document.getElementById('airbnbGrid').innerHTML = sorted.map(d => makeAirbnbCard(d)).join('');
}

function clearFilters() {
  document.getElementById('fRegion').value = '';
  document.getElementById('fPriceMax').value = '';
  document.getElementById('fAirportMax').value = '';
  rebuildBrowse();
}

// Filter change listeners
['fRegion', 'fPriceMax', 'fAirportMax'].forEach(id => {
  const el = document.getElementById(id);
  el.addEventListener('change', rebuildBrowse);
  el.addEventListener('input', () => { clearTimeout(el._t); el._t = setTimeout(rebuildBrowse, 400); });
});

// ‚îÄ‚îÄ Slider events ‚îÄ‚îÄ
const sliderIds = ['sPrice', 'sAirport', 'sBeach', 'sSize', 'sYield', 'sReno'];
const valIds = ['vPrice', 'vAirport', 'vBeach', 'vSize', 'vYield', 'vReno'];

function updateFromSliders() {
  wPrice = +document.getElementById('sPrice').value;
  wAirport = +document.getElementById('sAirport').value;
  wBeach = +document.getElementById('sBeach').value;
  wSize = +document.getElementById('sSize').value;
  wYield = +document.getElementById('sYield').value;
  wReno = +document.getElementById('sReno').value;
  const total = wPrice + wAirport + wBeach + wSize + wYield + wReno || 1;
  const weights = [wPrice, wAirport, wBeach, wSize, wYield, wReno];
  weights.forEach((w, i) => {
    document.getElementById(valIds[i]).textContent = Math.round(w / total * 100) + '%';
  });
  rebuild();
}

sliderIds.forEach(id => {
  document.getElementById(id).addEventListener('input', updateFromSliders);
});

function resetWeights() {
  const defaults = [25, 20, 20, 15, 15, 5];
  sliderIds.forEach((id, i) => { document.getElementById(id).value = defaults[i]; });
  updateFromSliders();
}

// ‚îÄ‚îÄ Modal ‚îÄ‚îÄ
function openModal(id) {
  const d = DATA.find(x => x.id === id);
  if (!d) return;
  const s = score(d);
  document.getElementById('mImg').src = d.img;
  document.getElementById('mImg').onerror = function(){ this.src='https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=600'; };
  document.getElementById('mName').textContent = d.title;
  document.getElementById('mArea').textContent = 'üìç ' + d.regionName;
  document.getElementById('mScore').textContent = Math.round(s) + '/100';
  document.getElementById('mScoreFill').style.width = s.toFixed(0) + '%';

  document.getElementById('mBreakdown').innerHTML = `
    <div><div class="v">‚Ç¨${d.price.toLocaleString()}</div>Price</div>
    <div><div class="v">${d.airport} min</div>Airport</div>
    <div><div class="v">${d.beach} min</div>Beach</div>
  `;

  document.getElementById('mStats').innerHTML = `
    <div class="m-stat"><div class="v price-c">‚Ç¨${d.price.toLocaleString()}</div><div class="l">Price</div></div>
    <div class="m-stat"><div class="v">CA$${d.cad.toLocaleString()}</div><div class="l">CAD</div></div>
    <div class="m-stat"><div class="v">${d.area}m¬≤</div><div class="l">Size</div></div>
    <div class="m-stat"><div class="v">${d.beds}</div><div class="l">Beds</div></div>
    <div class="m-stat"><div class="v">${d.airport} min</div><div class="l">‚úàÔ∏è Airport</div></div>
    <div class="m-stat"><div class="v">${d.beach} min</div><div class="l">üèñÔ∏è Beach</div></div>
  `;

  document.getElementById('mAirbnbGrid').innerHTML = `
    <div class="m-stat"><div class="v" style="color:var(--palm)">‚Ç¨${d.airbnbRate}/n</div><div class="l">Nightly</div></div>
    <div class="m-stat"><div class="v" style="color:var(--gold)">‚Ç¨${d.annualIncome.toLocaleString()}/yr</div><div class="l">Annual</div></div>
    <div class="m-stat"><div class="v" style="color:var(--ocean)">${d.grossYield}%</div><div class="l">Gross Yield</div></div>
  `;

  let b = '';
  if (s >= 65) b += '<span class="m-badge fire">üî• Top Match</span>';
  if (d.airport <= 30) b += '<span class="m-badge red">‚úàÔ∏è Close Airport</span>';
  if (d.beach <= 10) b += '<span class="m-badge blue">üèñÔ∏è Beach Nearby</span>';
  if (d.grossYield >= 6) b += '<span class="m-badge green">üìà High Yield</span>';
  if (d.reno === 0) b += '<span class="m-badge gold">‚úÖ Move-in Ready</span>';
  if (d.area >= 100) b += '<span class="m-badge blue">üìê Large Property</span>';
  document.getElementById('mBadges').innerHTML = b;

  document.getElementById('mLink').href = d.url;
  document.getElementById('mLink').textContent = 'View on ' + d.source + ' ‚Üí';
  document.getElementById('modalOverlay').classList.add('visible');
}

function closeModal() {
  document.getElementById('modalOverlay').classList.remove('visible');
}
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });

// ‚îÄ‚îÄ Smooth scroll for nav links ‚îÄ‚îÄ
document.querySelectorAll('.page-hero-nav a[href^="#"]').forEach(a => {
  a.addEventListener('click', e => {
    e.preventDefault();
    const target = document.querySelector(a.getAttribute('href'));
    if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
  });
});

// ‚îÄ‚îÄ Initial render ‚îÄ‚îÄ
rebuild();
</script>
</body>
</html>